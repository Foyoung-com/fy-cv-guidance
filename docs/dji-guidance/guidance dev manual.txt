Guidance 开发相关资料及学习总结

1. 简要介绍Guidance

    Guidance是一款视觉传感导航系统，通过五组视觉超声波组合传感器， 感知附件物体让飞行器主动躲避。
	
	Guidance采用立体视觉算法， 视觉系统的有效距离可达20米， 近地面的定位精度可达厘米级。 
	
	Guidance需要与适当的飞行控制器配合使用，使得飞行器对可能发生的碰撞及时避让。
	
	
	1.1 安装及控制
	
	     Guidance适用于DJI Matrice系列飞行平台。
		 
		 1.1.1 物品清单
		       视觉处理模块             x1
			   视觉传感模块             x5
			   VBUS连接线               x5
			   VBUS连接线加长           x1
			   CAN-BUS连接线            x1
			   Micro-USB连接线          x1
			   Micro-USB延长线          x1
			   UART连接线               x1
			   配件包
		 
		TODO: 列出DJI产品线列表
		
		 
	1.2 数据输出
	
	    接口：USB 和 UART
		
		1.2.1 USB接口输出信息：
		      1) 速度
			  2) 障碍物距离
			  3) IMU惯性测量
			        加速度， 姿态数据
			  4) 超声波
			  5) 图像
			        灰度图
			  6) 深度图
			  
		1.2.2 UART输出信息：
		      1) 速度
			  2) 障碍物距离
			  3) IMU
			  4) 超声波
			  
	1.3 不适用环境
	
	     有动物的环境(因Guidance会发出人耳无法识别的超声波)
	     恶劣天气，如下雪， 下雨， 有雾，沙尘暴
		 反光的环境，如水面
		 纹理重复度高的环境，如墙壁， 地板
		 可靠性要求极高的应用，如与生命相关的应用
		 
2. 模块简介
   
   2.1 视觉处理模块
      
	   连接 输入： 传感模块
	   连接 输出： DJI Matrice 飞控系统， 或者其他智能系统
	   
	   2.1.1 输入
	         通过VBUS连接线，连接视觉传感模块， 接收图像，超声波等原始数据
	   
	   2.1.2 输出
	         通过 CAN-BUS 连接线传输给DJI Matrice飞控系统
	         或者通过 USB/UART连接线传输给其他智能系统
	   
	2.2 视觉传感模块

       	视觉传感模块负责采集图像， 超声波数据， 再通过VBUS连接线传回视觉处理模块进行分析
		
	2.3 VBUS连接线
	  
	    用于连接视觉处理模块和视觉传感模块
		
	2.4 VBUS连接线加长
	  
	    备用连接线
		
	2.4 CAN-BUS连接线
	
	    用于连接视觉处理模块与DJI飞控系统
		
	2.5 Micro-USB连接线
	 
	    用于连接视觉处理模块与计算机或者其他智能系统
		
	2.6 Micro-USB延长线
	
	    Micro-USB连接线长度不够时使用
		
	2.7 UART连接线
	
	    用于连接视觉处理模块与其他智能系统
		
3. 首次使用前的标定
   
    3.1 从DJI 官网下载Guidance调参软件

    3.2 使用Micro-USB连接线连接视觉处理模块和PC

    3.3 安装软件

	3.4 点击标定选项， 即可在页面中找到“标定”按钮，点击弹出标定界面
	
	     3.4.1 选择标定方向，分为前(VBUS1), 右(VBUS2), 后(VBUS3), 左(VBUS4), 下(VBUS5)
		 3.4.2 点击开始标定按钮， 此时在黑白棋盘格标定板上会出现一个圆环
		 3.4.3 拿起载具， 将所需标定的视觉传感模块的双目摄像头对准屏幕上的标定板， 双目摄像头均捕捉到标定板后，会出现一个十字圆。上下左右移动载具可以调整十字圆位置，
    		   调整方位使两圆圆心重合， 前后移动载具可以调整十字圆大小， 调整距离使两个圆的大小大致相等。3秒钟后若以上两个条件符合， 圆环会开始移动。
		 3.4.4 调整视觉传感模块位置， 使十字圆跟圆环移动， 只需要大致跟随
		 3.4.5 在移动过程中程序会采集符合要求的图片用来计算参数， 采集进度实时显示在进度条上， 进度条满了之后会自动开始参数计算， 此时您可以放下设备等待计算完成。
		       完成之后程序会自动将计算结果上传至DJI Guidance 视觉处理模块， 同时提示标定完成。
		 3.4.6 如果需要标定其它方向， 按以上流程重新执行一遍即可。
		 
4. Guidance SDK

   关于Guidance SDK 可从https://developer.dji.com/cn/guidance-sdk/ 下载

      